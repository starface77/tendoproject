import{j as e,u as j,a as _,r as c,E as m,M as S,q as g,e as h,h as P,g as L,H as F,ae as k,Q as u}from"./index-U3rPQCjX.js";import{P as C}from"./ProductCard-CLp4hAdG.js";const A=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})]}),E=({count:r=8})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:r}).map((t,a)=>e.jsx(A,{},a))}),$=({message:r})=>{const{t}=j();return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 text-center",children:r||t("loading","Загрузка...")})]})},R=()=>{const{sellerId:r}=_(),{t}=j(),[a,f]=c.useState(null),[n,p]=c.useState([]),[N,i]=c.useState(!0),[b,d]=c.useState(!0),[y,o]=c.useState(null);c.useEffect(()=>{v()},[r]);const v=async()=>{try{i(!0),o(null);const s=await m.get(`/sellers/${r}`);s.success&&f(s.data),d(!0);const l=await m.get(`/products?seller=${r}`);l.success&&p(l.data||[])}catch(s){console.error("Ошибка загрузки данных продавца:",s),o(s.message)}finally{i(!1),d(!1)}},w=s=>s?new Date(s).toLocaleDateString("ru-RU",{year:"numeric",month:"long"}):"",x=s=>s?s.storeName||`${s.firstName||""} ${s.lastName||""}`.trim()||s.name||"Продавец":"";return N?e.jsx($,{message:t("loading_seller","Загрузка профиля продавца...")}):y||!a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(S,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:t("seller_not_found","Продавец не найден")}),e.jsx("p",{className:"text-gray-600 mb-6",children:t("seller_not_found_desc","Запрашиваемый продавец не существует или был удален")}),e.jsxs(g,{to:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors inline-flex items-center",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),t("back_to_home","Назад на главную")]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"container-custom py-6",children:[e.jsxs(g,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors mb-6",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),t("back","Назад")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-white",children:x(a).charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:x(a)}),a.verified&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:t("verified","Проверен")})]})]}),a.rating>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,l)=>e.jsx(L,{className:`h-4 w-4 ${l<Math.floor(a.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},l))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.rating.toFixed(1)," (",a.reviewsCount||0," ",t("reviews","отзывов"),")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsxs("span",{children:[t("on_platform_since","На платформе с")," ",w(a.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsxs("span",{children:[n.length," ",t("products","товаров")]})]})]}),a.description&&e.jsx("p",{className:"text-gray-700 mt-4 max-w-2xl",children:a.description})]})]})]})}),e.jsxs("div",{className:"container-custom py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t("seller_products","Товары продавца")}),e.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," ",t("products","товаров")]})]}),b?e.jsx(E,{count:8}):n.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:n.map(s=>e.jsx(C,{product:s},s._id||s.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t("no_products_yet","Пока нет товаров")}),e.jsx("p",{className:"text-gray-600",children:t("seller_no_products_desc","Этот продавец еще не добавил товары")})]})]})]})};export{R as default};
