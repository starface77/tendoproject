import{a as A,b as F,r as t,G as P,j as e,L,F as f,q as r,e as R,n as D,D as I,X as N,h as _}from"./index-U3rPQCjX.js";const E=()=>{var h,u,g,p;const{paymentId:l}=A(),b=F(),[s,y]=t.useState(null),[v,w]=t.useState(!0),[c,n]=t.useState(""),[d,i]=t.useState(!1);t.useEffect(()=>{l&&x()},[l]);const x=async()=>{try{n("");const a=await P.getPayment(l);a.success?y(a.data):n("–ü–ª–∞—Ç–µ–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω")}catch(a){console.error("Error loading payment:",a),n("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞—Ç–µ–∂–∞")}finally{w(!1)}},k=async()=>{i(!0),await x(),i(!1)},o=a=>new Intl.NumberFormat("ru-RU").format(a)+" —Å—É–º",S=a=>{switch(a){case"completed":return e.jsx(_,{className:"h-8 w-8 text-green-600"});case"failed":case"cancelled":return e.jsx(f,{className:"h-8 w-8 text-red-600"});case"processing":return e.jsx(N,{className:"h-8 w-8 text-blue-600"});default:return e.jsx(N,{className:"h-8 w-8 text-yellow-600"})}},m=a=>({pending:"–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã",processing:"–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è",completed:"–û–ø–ª–∞—á–µ–Ω",failed:"–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã",cancelled:"–û—Ç–º–µ–Ω–µ–Ω",refunded:"–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤"})[a]||a,C=a=>({pending:"text-yellow-600 bg-yellow-100",processing:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100",failed:"text-red-600 bg-red-100",cancelled:"text-gray-600 bg-gray-100",refunded:"text-purple-600 bg-purple-100"})[a]||"text-gray-600 bg-gray-100",M=a=>({click:"Click",payme:"Payme",uzcard:"UzCard",humo:"Humo",visa:"Visa",mastercard:"MasterCard",cash_on_delivery:"–ù–∞–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ",bank_transfer:"–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥"})[a]||a;return v?e.jsx(L,{}):c||!s?e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8",children:[e.jsx(f,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-red-900 mb-4",children:c||"–ü–ª–∞—Ç–µ–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω"}),e.jsxs("div",{className:"space-x-4",children:[e.jsx(r,{to:"/profile",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"–ö –∑–∞–∫–∞–∑–∞–º"}),e.jsx(r,{to:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"–ù–∞ –≥–ª–∞–≤–Ω—É—é"})]})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("button",{onClick:()=>b(-1),className:"text-blue-600 hover:text-blue-700",children:e.jsx(R,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞"}),e.jsx("button",{onClick:k,disabled:d,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-50",children:e.jsx(D,{className:`h-5 w-5 ${d?"animate-spin":""}`})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:S(s.status)}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m(s.status)}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${C(s.status)}`,children:m(s.status)})]}),e.jsxs("div",{className:"space-y-4",children:[s.requestedAt&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"–ü–ª–∞—Ç–µ–∂ —Å–æ–∑–¥–∞–Ω"}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.requestedAt).toLocaleString("ru-RU")})]})]}),s.processedAt&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="processing"?"bg-blue-600":"bg-gray-300"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–∞—Ç–∞"}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.processedAt).toLocaleString("ru-RU")})]})]}),s.completedAt&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"–ü–ª–∞—Ç–µ–∂ –∑–∞–≤–µ—Ä—à–µ–Ω"}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.completedAt).toLocaleString("ru-RU")})]})]}),s.failedAt&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"–û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–∞"}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.failedAt).toLocaleString("ru-RU")}),((h=s.transactionInfo)==null?void 0:h.errorMessage)&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.transactionInfo.errorMessage})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[s.status==="completed"&&e.jsx(r,{to:`/order-confirmation/${s.order._id}`,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-center block",children:"–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–∫–∞–∑—É"}),s.status==="failed"&&e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É"}),s.isPending&&e.jsx("div",{className:"text-center text-gray-600 text-sm",children:"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"–î–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–∞"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–°—É–º–º–∞:"}),e.jsx("span",{className:"font-medium text-2xl text-blue-600",children:o(s.amount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:"}),e.jsx("span",{className:"font-medium",children:M(s.paymentMethod)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ID –ø–ª–∞—Ç–µ–∂–∞:"}),e.jsx("span",{className:"font-mono text-sm",children:s._id})]}),((u=s.cardDetails)==null?void 0:u.maskedNumber)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–ö–∞—Ä—Ç–∞:"}),e.jsx("span",{className:"font-mono",children:s.cardDetails.maskedNumber})]}),((g=s.transactionInfo)==null?void 0:g.merchantFee)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–ö–æ–º–∏—Å—Å–∏—è:"}),e.jsx("span",{className:"text-orange-600",children:o(s.transactionInfo.merchantFee)})]})]})]}),s.order&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:"}),e.jsxs("span",{className:"font-medium",children:["#",(p=s.order._id)==null?void 0:p.slice(-8)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞:"}),e.jsx("span",{className:"font-medium",children:s.order.status})]}),e.jsx(r,{to:`/order-confirmation/${s.order._id}`,className:"block w-full text-center bg-blue-50 text-blue-600 py-2 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsx("p",{children:"–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–ª–∞—Ç–µ–∂—É, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–µ–π —Å–ª—É–∂–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"üìû"}),e.jsx("span",{children:"+998 90 123 45 67"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"‚úâÔ∏è"}),e.jsx("span",{children:"support@navatmarket.uz"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"üí¨"}),e.jsx("span",{children:"Telegram: @navatmarket_support"})]})]})]})]})]})]})]})};export{E as default};
