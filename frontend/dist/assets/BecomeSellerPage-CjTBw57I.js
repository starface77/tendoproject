import{b as k,z as C,u as T,r as d,j as e,M as X,e as q,Q as F,a1 as S,H as P,U as V,h as A,a6 as D}from"./index-U3rPQCjX.js";const B=()=>{const i=k(),{user:c,isAuthenticated:h}=C(),{t:s}=T(),[l,m]=d.useState({businessName:"",businessType:"",contactName:"",email:"",phone:"",address:"",website:"",categories:[],productTypes:"",monthlyVolume:"",experience:"",otherPlatforms:"",agreesToTerms:!1,marketingConsent:!1}),[u,x]=d.useState(!1),[b,g]=d.useState(""),r=a=>{const{name:t,value:n,type:o,checked:w}=a.target;m(_=>({..._,[t]:o==="checkbox"?w:n}))},p=a=>{m(t=>{const n=t.categories.includes(a)?t.categories.filter(o=>o!==a):[...t.categories,a];return n.length>5?t:{...t,categories:n}})},f=async a=>{var t,n;a.preventDefault(),g(""),x(!0);try{const o={businessName:l.businessName,businessType:l.businessType,contactName:l.contactName,email:l.email||c.email,phone:l.phone,address:l.address,website:l.website||"",categories:l.categories,productTypes:l.productTypes,monthlyVolume:l.monthlyVolume,experience:l.experience,otherPlatforms:l.otherPlatforms||"",agreesToTerms:l.agreesToTerms,marketingConsent:l.marketingConsent};await D.applyToBecomeSeller(o),alert(s("seller_application_sent","Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.")),i("/")}catch(o){g(((n=(t=o.response)==null?void 0:t.data)==null?void 0:n.message)||s("application_error","Ошибка при отправке заявки. Попробуйте еще раз."))}finally{x(!1)}},j=[{value:"individual",label:s("individual_entrepreneur","Индивидуальный предприниматель")},{value:"llc",label:s("llc","ООО")},{value:"ooo",label:s("llc","ООО")},{value:"ip",label:s("ip","ИП")},{value:"other",label:s("other","Другое")}],y=[s("electronics","Электроника"),s("clothing_shoes","Одежда и обувь"),s("clothing","Одежда"),s("accessories","Аксессуары"),s("home_garden","Дом и сад"),s("beauty_health","Красота и здоровье"),s("sports_outdoor","Спорт и отдых")],N=[{value:"under_1m",label:"До 1 млн сум"},{value:"1m_5m",label:"1-5 млн сум"},{value:"5m_20m",label:"5-20 млн сум"},{value:"20m_50m",label:"20-50 млн сум"},{value:"over_50m",label:"Более 50 млн сум"}],v=[{value:"none",label:"Без опыта"},{value:"under_1_year",label:"Менее 1 года"},{value:"1_3_years",label:"1-3 года"},{value:"3_5_years",label:"3-5 лет"},{value:"over_5_years",label:"Более 5 лет"}];return h?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-blue-600 hover:text-blue-700 transition-colors mb-6",children:[e.jsx(q,{className:"mr-2"}),s("back_to_profile","Назад в профиль")]}),e.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s("seller_app.title")}),e.jsx("p",{className:"text-xl text-gray-600",children:s("seller_app.subtitle")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 md:p-8",children:[b&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700",children:b})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s("seller_app.application_form")}),e.jsx("p",{className:"text-gray-600",children:s("seller_app.application_description")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(S,{className:"mr-2"}),s("business_info","Основная информация о бизнесе")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("company_name","Название компании")," *"]}),e.jsx("input",{type:"text",name:"businessName",value:l.businessName,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите название вашей компании"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("business_type","Тип бизнеса")," *"]}),e.jsxs("select",{name:"businessType",value:l.businessType,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:s("select_business_type","Выберите тип бизнеса")}),j.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Имя контактного лица *"}),e.jsx("input",{type:"text",name:"contactName",value:l.contactName,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите ваше имя"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(P,{className:"mr-2"}),"Контактная информация"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:l.email||(c==null?void 0:c.email)||"",onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Телефон *"}),e.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+998XXXXXXXXX"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Формат: +998XXXXXXXXX"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Адрес *"}),e.jsx("input",{type:"text",name:"address",value:l.address,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Укажите ваш полный адрес"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Веб-сайт"}),e.jsx("input",{type:"url",name:"website",value:l.website,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(V,{className:"mr-2"}),"Информация о товарах"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание товаров *"}),e.jsx("textarea",{name:"productTypes",value:l.productTypes,onChange:r,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Расскажите о товарах, которые вы планируете продавать..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Планируемый объем продаж *"}),e.jsxs("select",{name:"monthlyVolume",value:l.monthlyVolume,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Выберите объем"}),N.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Опыт в торговле *"}),e.jsxs("select",{name:"experience",value:l.experience,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Выберите опыт"}),v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Другие платформы"}),e.jsx("input",{type:"text",name:"otherPlatforms",value:l.otherPlatforms,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"На каких других платформах вы уже продаете?"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Категории товаров *"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Выберите от 1 до 5 категорий товаров, которые вы планируете продавать"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:y.map(a=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.categories.includes(a),onChange:()=>p(a),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Соглашения"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"agreesToTerms",checked:l.agreesToTerms,onChange:r,required:!0,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Я согласен с условиями использования"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Отправляя заявку, вы соглашаетесь с нашими правилами и условиями работы на платформе"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"marketingConsent",checked:l.marketingConsent,onChange:r,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Согласие на маркетинговые рассылки"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Получать уведомления о новых возможностях, акциях и обновлениях платформы"})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:u||!l.agreesToTerms||l.categories.length===0,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),s("sending","Отправка...")]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2"}),s("submit_application","Отправить заявку")]})}),e.jsx("p",{className:"text-sm text-gray-500 text-center mt-3",children:s("required_field_note","Поля, отмеченные *, обязательны для заполнения")})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[e.jsx(X,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:s("authorization_required","Требуется авторизация")}),e.jsx("p",{className:"text-gray-600 mb-6",children:s("login_required_seller","Для подачи заявки на продавца необходимо войти в систему")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>i("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:s("login_button","Войти")}),e.jsx("button",{onClick:()=>i("/register"),className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:s("register_button","Зарегистрироваться")})]})]})})};export{B as default};
